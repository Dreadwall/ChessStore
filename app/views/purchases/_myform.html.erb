<%= simple_form_for @purchase, html: { class: 'form-horizontal', multipart: true } do |f| %>
  <fieldset>
    <legend><%= controller.action_name.capitalize %> Purchase</legend>

     <% if @purchase.errors.any? %>
          <div id="error_explanation">
            <p><%= pluralize(@purchase.errors.messages.map{|key, val| key.to_s + ' ' + val[0]}.count, 
              "error") %> prohibited this item from being saved:<p>

            <ul>
            <% @purchase.errors.messages.map{|key, val| key.to_s + ' ' + val[0]}.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
            </ul>
          </div>
        <% end %>

    <%= f.input :item_id, collection: Item.active.to_a, include_blank: true, input_html: {class: "avg"} %>
    <%= f.input :quantity, input_html: {class: "avg"} %>
    

    <div class="form-actions">
      <%= f.submit nil, :class => 'button radius' %>
      <%= link_to 'Cancel', purchases_path, :class => 'button alert radius' %>
    </div>
  </fieldset>
<% end %>